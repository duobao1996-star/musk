# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ ä¸€é”®å¯åŠ¨è„šæœ¬è¯´æ˜

æœ¬é¡¹ç›®æä¾›äº†4ä¸ªä¾¿æ·çš„ç®¡ç†è„šæœ¬ï¼Œè®©ä½ å¯ä»¥è½»æ¾ç®¡ç†æ•´ä¸ªç³»ç»Ÿã€‚

### ğŸ“œ å¯ç”¨è„šæœ¬

| è„šæœ¬ | åŠŸèƒ½ | ä½¿ç”¨åœºæ™¯ |
|------|------|---------|
| `start.sh` | ğŸŸ¢ ä¸€é”®å¯åŠ¨ | å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡ |
| `stop.sh` | ğŸ”´ ä¸€é”®åœæ­¢ | åœæ­¢æ‰€æœ‰è¿è¡Œçš„æœåŠ¡ |
| `restart.sh` | ğŸ”„ ä¸€é”®é‡å¯ | é‡å¯æ‰€æœ‰æœåŠ¡ |
| `status.sh` | ğŸ“Š æŸ¥çœ‹çŠ¶æ€ | æŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€ |

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ é¦–æ¬¡å¯åŠ¨ï¼ˆå…¨æ–°éƒ¨ç½²ï¼‰

```bash
# å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git clone https://github.com/duobao1996-star/musk.git
cd musk

# ä¸€é”®å¯åŠ¨
./start.sh
```

**start.sh ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œ**ï¼š
- âœ… æ£€æŸ¥è¿è¡Œç¯å¢ƒï¼ˆPHPã€MySQLã€Node.jsç­‰ï¼‰
- âœ… æ£€æŸ¥æ•°æ®åº“è¿æ¥å’Œè¡¨ç»“æ„
- âœ… è‡ªåŠ¨å®‰è£…åç«¯ä¾èµ–ï¼ˆcomposer installï¼‰
- âœ… è‡ªåŠ¨å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆnpm installï¼‰
- âœ… å¯åŠ¨åç«¯æœåŠ¡ï¼ˆWebmanï¼‰
- âœ… å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆViteï¼‰
- âœ… æ˜¾ç¤ºè®¿é—®åœ°å€å’Œé»˜è®¤è´¦å·

### 2ï¸âƒ£ æ—¥å¸¸ä½¿ç”¨

```bash
# å¯åŠ¨æœåŠ¡
./start.sh

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./status.sh

# åœæ­¢æœåŠ¡
./stop.sh

# é‡å¯æœåŠ¡
./restart.sh
```

---

## ğŸ“Š start.sh - å¯åŠ¨è„šæœ¬è¯¦è§£

### åŠŸèƒ½ç‰¹æ€§

1. **ç¯å¢ƒæ£€æŸ¥** âœ…
   - æ£€æŸ¥ PHPã€Composerã€MySQLã€Node.jsã€NPM
   - æ˜¾ç¤ºå„å·¥å…·çš„ç‰ˆæœ¬ä¿¡æ¯
   - æ£€æŸ¥ç«¯å£å ç”¨æƒ…å†µ

2. **æ•°æ®åº“æ£€æŸ¥** ğŸ—„ï¸
   - è‡ªåŠ¨æ£€æŸ¥æ•°æ®åº“è¿æ¥
   - æ£€æŸ¥è¡¨ç»“æ„æ˜¯å¦å®Œæ•´
   - æä¾›æ•°æ®åº“å¯¼å…¥é€‰é¡¹

3. **ä¾èµ–å®‰è£…** ğŸ“¦
   - è‡ªåŠ¨æ£€æµ‹å¹¶å®‰è£…åç«¯ä¾èµ–
   - è‡ªåŠ¨æ£€æµ‹å¹¶å®‰è£…å‰ç«¯ä¾èµ–
   - è·³è¿‡å·²å®‰è£…çš„ä¾èµ–

4. **æœåŠ¡å¯åŠ¨** ğŸš€
   - æ™ºèƒ½å¤„ç†ç«¯å£å ç”¨
   - åå°å¯åŠ¨å‰ç«¯æœåŠ¡
   - å®æ—¶æ˜¾ç¤ºå¯åŠ¨çŠ¶æ€

5. **ä¿¡æ¯å±•ç¤º** â„¹ï¸
   - æ˜¾ç¤ºè®¿é—®åœ°å€
   - æ˜¾ç¤ºé»˜è®¤è´¦å·
   - æ˜¾ç¤ºæ—¥å¿—ä½ç½®

### ä½¿ç”¨ç¤ºä¾‹

```bash
# åŸºæœ¬å¯åŠ¨
./start.sh

# å¯åŠ¨åä¼šçœ‹åˆ°ï¼š
# âœ… ç¯å¢ƒæ£€æŸ¥é€šè¿‡
# âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ
# âœ… åç«¯ä¾èµ–å·²å®‰è£…
# âœ… å‰ç«¯ä¾èµ–å·²å®‰è£…
# âœ… åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
# âœ… å‰ç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
# 
# ğŸ“ è®¿é—®åœ°å€ï¼š
#    å‰ç«¯: http://localhost:3001
#    åç«¯: http://localhost:8787
#    æ–‡æ¡£: http://localhost:8787/api-docs
```

### å¸¸è§é—®é¢˜å¤„ç†

**Q: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ**  
A: è„šæœ¬ä¼šè‡ªåŠ¨æç¤ºï¼Œè¯¢é—®æ˜¯å¦åœæ­¢å ç”¨è¿›ç¨‹å¹¶é‡å¯

**Q: æ•°æ®åº“æœªåˆå§‹åŒ–ï¼Ÿ**  
A: è„šæœ¬ä¼šè‡ªåŠ¨æç¤ºå¯¼å…¥æ•°æ®åº“

**Q: ä¾èµ–å®‰è£…å¤±è´¥ï¼Ÿ**  
A: è„šæœ¬ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå¯ä»¥æ‰‹åŠ¨å®‰è£…åé‡è¯•

---

## ğŸ”´ stop.sh - åœæ­¢è„šæœ¬

### åŠŸèƒ½

- åœæ­¢åç«¯æœåŠ¡ï¼ˆWebmanï¼‰
- åœæ­¢å‰ç«¯æœåŠ¡ï¼ˆViteï¼‰
- æ¸…ç†æ‰€æœ‰ç›¸å…³è¿›ç¨‹
- é‡Šæ”¾ç«¯å£å ç”¨

### ä½¿ç”¨

```bash
./stop.sh

# è¾“å‡ºç¤ºä¾‹ï¼š
# âœ… WebmanæœåŠ¡å·²åœæ­¢
# âœ… ViteæœåŠ¡å·²åœæ­¢
# âœ… æ‰€æœ‰æœåŠ¡å·²åœæ­¢
```

---

## ğŸ”„ restart.sh - é‡å¯è„šæœ¬

### åŠŸèƒ½

- å…ˆåœæ­¢æ‰€æœ‰æœåŠ¡
- ç­‰å¾…2ç§’ç¡®ä¿æœåŠ¡å®Œå…¨åœæ­¢
- é‡æ–°å¯åŠ¨æ‰€æœ‰æœåŠ¡

### ä½¿ç”¨

```bash
./restart.sh

# ç›¸å½“äºæ‰§è¡Œï¼š
# ./stop.sh
# ./start.sh
```

---

## ğŸ“Š status.sh - çŠ¶æ€æŸ¥çœ‹è„šæœ¬

### åŠŸèƒ½

- æ˜¾ç¤ºåç«¯æœåŠ¡çŠ¶æ€
- æ˜¾ç¤ºå‰ç«¯æœåŠ¡çŠ¶æ€
- æ˜¾ç¤ºæ•°æ®åº“è¿æ¥çŠ¶æ€
- æ˜¾ç¤ºæœåŠ¡ç«¯å£å’ŒPID
- æ˜¾ç¤ºè®¿é—®åœ°å€

### ä½¿ç”¨

```bash
./status.sh

# è¾“å‡ºç¤ºä¾‹ï¼š
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#   Muskç®¡ç†ç³»ç»Ÿ - æœåŠ¡çŠ¶æ€
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 
# ğŸ“Š æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼š
# 
#   â— åç«¯æœåŠ¡ (Webman)
#     çŠ¶æ€: è¿è¡Œä¸­
#     ç«¯å£: 8787
#     PID:  12345
# 
#   â— å‰ç«¯æœåŠ¡ (Vite)
#     çŠ¶æ€: è¿è¡Œä¸­
#     ç«¯å£: 3001
#     PID:  12346
# 
#   â— MySQLæ•°æ®åº“
#     çŠ¶æ€: è¿æ¥æ­£å¸¸
#     è¡¨æ•°: 12 å¼ 
```

---

## ğŸ”§ ç¯å¢ƒè¦æ±‚

### å¿…éœ€è½¯ä»¶

| è½¯ä»¶ | æœ€ä½ç‰ˆæœ¬ | æ¨èç‰ˆæœ¬ |
|------|---------|---------|
| PHP | 8.2+ | 8.2.29 |
| MySQL | 8.0+ | 8.0+ |
| Node.js | 16+ | 18+ |
| Composer | 2.0+ | æœ€æ–°ç‰ˆ |
| NPM | 8+ | æœ€æ–°ç‰ˆ |

### æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥ PHP
php -v

# æ£€æŸ¥ MySQL
mysql --version

# æ£€æŸ¥ Node.js
node --version

# æ£€æŸ¥ NPM
npm --version

# æ£€æŸ¥ Composer
composer --version
```

---

## ğŸ“ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®

é»˜è®¤æ•°æ®åº“é…ç½®ä½äº `webman-api/config/think-orm.php`ï¼š

```php
'hostname' => '127.0.0.1',
'database' => 'newsf1',
'username' => 'newsf1',
'password' => 'newsf1',
'hostport' => '3306',
```

### ç«¯å£é…ç½®

- **åç«¯ç«¯å£**: 8787ï¼ˆå¯åœ¨ `webman-api/config/server.php` ä¿®æ”¹ï¼‰
- **å‰ç«¯ç«¯å£**: 3001ï¼ˆå¯åœ¨ `musk-admin/vite.config.ts` ä¿®æ”¹ï¼‰

### ä¿®æ”¹ç«¯å£

å¦‚æœéœ€è¦ä¿®æ”¹ç«¯å£ï¼Œéœ€è¦åŒæ—¶ä¿®æ”¹ï¼š
1. é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£
2. å¯åŠ¨è„šæœ¬ä¸­çš„ç«¯å£å˜é‡

---

## ğŸ” é»˜è®¤è´¦å·

å¯åŠ¨åä½¿ç”¨ä»¥ä¸‹è´¦å·ç™»å½•ï¼š

| ç”¨æˆ·å | å¯†ç  | è§’è‰² |
|--------|------|------|
| admin | password | è¶…çº§ç®¡ç†å‘˜ |
| testuser | password | Viewerè§’è‰² |
| testadmin1 | password | Adminè§’è‰² |

âš ï¸ **å®‰å…¨æç¤º**: é¦–æ¬¡éƒ¨ç½²åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

---

## ğŸ“ ç›®å½•ç»“æ„

```
musk/
â”œâ”€â”€ start.sh              # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop.sh               # åœæ­¢è„šæœ¬
â”œâ”€â”€ restart.sh            # é‡å¯è„šæœ¬
â”œâ”€â”€ status.sh             # çŠ¶æ€æŸ¥çœ‹è„šæœ¬
â”œâ”€â”€ logs/                 # æ—¥å¿—ç›®å½•
â”‚   â”œâ”€â”€ frontend.log      # å‰ç«¯æ—¥å¿—
â”‚   â””â”€â”€ frontend.pid      # å‰ç«¯è¿›ç¨‹ID
â”œâ”€â”€ webman-api/           # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ runtime/logs/     # åç«¯æ—¥å¿—
â”‚   â””â”€â”€ database/         # æ•°æ®åº“æ–‡ä»¶
â””â”€â”€ musk-admin/           # å‰ç«¯ä»£ç 
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1: å¯åŠ¨å¤±è´¥

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
cat logs/frontend.log
cat webman-api/runtime/logs/webman.log

# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i:8787  # åç«¯ç«¯å£
lsof -i:3001  # å‰ç«¯ç«¯å£

# æ‰‹åŠ¨åœæ­¢å ç”¨è¿›ç¨‹
kill -9 <PID>
```

### é—®é¢˜2: æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -h 127.0.0.1 -u newsf1 -pnewsf1 newsf1

# æ£€æŸ¥MySQLæœåŠ¡
# macOS
brew services list

# Linux
systemctl status mysql
```

### é—®é¢˜3: æƒé™é—®é¢˜

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start.sh stop.sh restart.sh status.sh

# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la *.sh
```

---

## ğŸ’¡ é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰å¯åŠ¨é€‰é¡¹

ç¼–è¾‘ `start.sh` ä¿®æ”¹ä»¥ä¸‹å˜é‡ï¼š

```bash
BACKEND_PORT=8787     # åç«¯ç«¯å£
FRONTEND_PORT=3001    # å‰ç«¯ç«¯å£
DB_HOST="127.0.0.1"   # æ•°æ®åº“ä¸»æœº
DB_NAME="newsf1"      # æ•°æ®åº“åç§°
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# 1. ä¿®æ”¹é…ç½®ä¸ºç”Ÿäº§æ¨¡å¼
vim webman-api/config/app.php
# è®¾ç½® debug => false

# 2. æ„å»ºå‰ç«¯
cd musk-admin
npm run build

# 3. ä½¿ç”¨ç”Ÿäº§æœåŠ¡å™¨ï¼ˆå¦‚Nginxï¼‰æ‰˜ç®¡å‰ç«¯
# 4. ä½¿ç”¨è¿›ç¨‹ç®¡ç†å™¨ï¼ˆå¦‚Supervisorï¼‰ç®¡ç†åç«¯
```

---

## ğŸ“ å¸®åŠ©ä¸æ”¯æŒ

### è·å–å¸®åŠ©

```bash
# æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
cat DEPLOYMENT_GUIDE.md
cat COMPLETE_PROJECT_SUMMARY.md

# æŸ¥çœ‹æ•°æ®åº“æ–‡æ¡£
cat webman-api/database/README.md
```

### ç›¸å…³æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](DEPLOYMENT_GUIDE.md)
- [é¡¹ç›®æ€»ç»“](COMPLETE_PROJECT_SUMMARY.md)
- [æ•°æ®åº“ç®¡ç†](webman-api/database/README.md)
- [æ·±åº¦å®¡æŸ¥](DEEP_PROJECT_REVIEW.md)

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ï¼š

```bash
# 1. å¯åŠ¨æœåŠ¡
./start.sh

# 2. æ‰“å¼€æµè§ˆå™¨è®¿é—®
# http://localhost:3001

# 3. ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•
# ç”¨æˆ·å: admin
# å¯†ç : password

# 4. å¼€å§‹ä½“éªŒï¼
```

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€

*æœ€åæ›´æ–°: 2024å¹´1æœˆ*
