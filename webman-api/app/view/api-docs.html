<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webman API 2.0 接口文档</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            grid-column: 1 / -1;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            position: sticky;
            top: 20px;
            height: fit-content;
            z-index: 100;
        }

        .nav h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .nav ul {
            list-style: none;
        }

        .nav li {
            margin-bottom: 8px;
        }

        .nav a {
            color: #666;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 6px;
            display: block;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav a:hover {
            background: #f8f9fa;
            color: #667eea;
            border-left-color: #667eea;
        }

        .content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            grid-column: 2;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #333;
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: #555;
            font-size: 1.4rem;
            margin: 25px 0 15px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section h4 {
            color: #666;
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .info-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .api-endpoint {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        .endpoint-header {
            background: #667eea;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .method {
            background: #28a745;
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .method.post { background: #007bff; }
        .method.put { background: #ffc107; color: #333; }
        .method.delete { background: #dc3545; }

        .endpoint-url {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 1.1rem;
        }

        .endpoint-content {
            padding: 20px;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .param-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .param-table td {
            padding: 12px;
            border-bottom: 1px solid #e9ecef;
        }

        .param-table tr:hover {
            background: #f8f9fa;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .status-code {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 10px;
        }

        .status-200 { background: #d4edda; color: #155724; }
        .status-201 { background: #d1ecf1; color: #0c5460; }
        .status-400 { background: #f8d7da; color: #721c24; }
        .status-401 { background: #fff3cd; color: #856404; }
        .status-403 { background: #f8d7da; color: #721c24; }
        .status-404 { background: #f8d7da; color: #721c24; }
        .status-500 { background: #f8d7da; color: #721c24; }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .feature-item i {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        .feature-item h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #28a745;
            color: white;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
        }

        .footer {
            text-align: center;
            padding: 30px;
            color: #666;
            border-top: 1px solid #e9ecef;
            margin-top: 40px;
            grid-column: 1 / -1;
        }

        .try-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            transition: background 0.3s ease;
        }

        .try-button:hover {
            background: #5a67d8;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
                grid-column: 1;
            }
            
            .nav {
                position: static;
                order: 2;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <div class="header">
            <h1><i class="fas fa-rocket"></i> Webman API 2.0</h1>
            <p>企业级后端API系统 - 前后端分离架构</p>
        </div>

        <!-- 导航 -->
        <div class="nav">
            <h3><i class="fas fa-list"></i> 快速导航</h3>
            <ul>
                <li><a href="#overview"><i class="fas fa-info-circle"></i> 项目概述</a></li>
                <li><a href="#quickstart"><i class="fas fa-play"></i> 快速开始</a></li>
                <li><a href="#auth"><i class="fas fa-key"></i> 认证授权</a></li>
                <li><a href="#specs"><i class="fas fa-book"></i> 通用规范</a></li>
                <li><a href="#apis"><i class="fas fa-code"></i> 接口列表</a></li>
                <li><a href="#soft-delete"><i class="fas fa-trash-alt"></i> 软删除管理</a></li>
                <li><a href="#support"><i class="fas fa-life-ring"></i> 技术支持</a></li>
            </ul>
        </div>

        <!-- 主要内容 -->
        <div class="content">
            <!-- 项目概述 -->
            <div class="section" id="overview">
                <h2><i class="fas fa-info-circle"></i> 项目概述</h2>
                
                <div class="info-grid">
                    <div class="info-card">
                        <h4><i class="fas fa-tag"></i> 基本信息</h4>
                        <p><strong>项目名称:</strong> Webman API 2.0 后端系统</p>
                        <p><strong>版本:</strong> 2.0.0</p>
                        <p><strong>技术栈:</strong> PHP 8.2 + Webman 2.0 + MySQL 8.0 + Redis</p>
                        <p><strong>架构模式:</strong> 前后端分离 + RESTful API</p>
                    </div>
                    <div class="info-card">
                        <h4><i class="fas fa-shield-alt"></i> 认证方式</h4>
                        <p><strong>JWT令牌:</strong> JSON Web Token</p>
                        <p><strong>权限控制:</strong> RBAC角色权限系统</p>
                        <p><strong>安全特性:</strong> CSRF保护、XSS防护</p>
                        <p><strong>日志审计:</strong> 完整操作记录</p>
                    </div>
                </div>

                <h3><i class="fas fa-star"></i> 核心功能</h3>
                <div class="feature-list">
                    <div class="feature-item">
                        <i class="fas fa-user-check"></i>
                        <h4>用户认证</h4>
                        <p>JWT令牌认证、登录登出、令牌刷新</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-users"></i>
                        <h4>用户管理</h4>
                        <p>仅管理员管理（已移除普通用户/商户/代理）</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-lock"></i>
                        <h4>权限控制</h4>
                        <p>RBAC角色权限系统</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-clipboard-list"></i>
                        <h4>操作审计</h4>
                        <p>完整的操作日志记录</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-tachometer-alt"></i>
                        <h4>性能监控</h4>
                        <p>API性能指标监控</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-trash-alt"></i>
                        <h4>软删除</h4>
                        <p>数据安全删除机制</p>
                    </div>
                </div>
            </div>

            <!-- 快速开始 -->
            <div class="section" id="quickstart">
                <h2><i class="fas fa-play"></i> 快速开始</h2>
                
                <h3><i class="fas fa-server"></i> 环境要求</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4><i class="fas fa-code"></i> PHP</h4>
                        <p>版本 >= 8.2</p>
                    </div>
                    <div class="info-card">
                        <h4><i class="fas fa-database"></i> MySQL</h4>
                        <p>版本 >= 8.0</p>
                    </div>
                    <div class="info-card">
                        <h4><i class="fas fa-memory"></i> Redis</h4>
                        <p>版本 >= 6.0</p>
                    </div>
                    <div class="info-card">
                        <h4><i class="fas fa-box"></i> Composer</h4>
                        <p>PHP包管理器</p>
                    </div>
                </div>

                <h3><i class="fas fa-download"></i> 安装部署</h3>
                <div class="code-block">
# 1. 安装依赖
composer install

# 2. 配置环境变量
cp .env.example .env
# 编辑 .env 文件配置数据库和Redis

# 3. 启动服务
php start.php start
                </div>

                <h3><i class="fas fa-globe"></i> 服务地址</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>开发环境</h4>
                        <p><code>http://127.0.0.1:8787</code></p>
                    </div>
                    <div class="info-card">
                        <h4>API基础路径</h4>
                        <p><code>http://127.0.0.1:8787/api</code></p>
                    </div>
                </div>
            </div>

            <!-- 认证授权 -->
            <div class="section" id="auth">
                <h2><i class="fas fa-key"></i> 认证授权</h2>
                
                <h3><i class="fas fa-token"></i> JWT认证</h3>
                <p>所有需要认证的接口都需要在请求头中携带JWT令牌：</p>
                <div class="code-block">
Authorization: Bearer &lt;your_jwt_token&gt;
                </div>

                <h3><i class="fas fa-sign-in-alt"></i> 获取令牌</h3>
                <p>通过登录接口获取JWT令牌：</p>
                <div class="code-block">
POST /api/login
Content-Type: application/json

{
    "username": "admin",
    "password": "password123"
}
                </div>

                <h3><i class="fas fa-sync-alt"></i> 令牌刷新</h3>
                <p>令牌即将过期时可以通过刷新接口获取新令牌：</p>
                <div class="code-block">
POST /api/refresh-token
Authorization: Bearer &lt;current_token&gt;
                </div>
            </div>

            <!-- 通用规范 -->
            <div class="section" id="specs">
                <h2><i class="fas fa-book"></i> 通用规范</h2>
                
                <h3><i class="fas fa-paper-plane"></i> 请求格式</h3>
                <h4>请求头</h4>
                <div class="code-block">
Content-Type: application/json
Authorization: Bearer &lt;token&gt;  # 需要认证的接口
X-CSRF-Token: &lt;csrf_token&gt;    # POST/PUT/DELETE请求
                </div>

                <h3><i class="fas fa-reply"></i> 响应格式</h3>
                <h4>成功响应</h4>
                <div class="code-block">
{
    "code": 200,
    "message": "操作成功",
    "data": {
        // 响应数据
    },
    "timestamp": 1640995200
}
                </div>

                <h4>分页响应</h4>
                <div class="code-block">
{
    "code": 200,
    "message": "获取成功",
    "data": [
        // 数据列表
    ],
    "pagination": {
        "total": 100,
        "page": 1,
        "limit": 15,
        "pages": 7
    },
    "timestamp": 1640995200
}
                </div>

                <h3><i class="fas fa-exclamation-triangle"></i> HTTP状态码</h3>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>状态码</th>
                            <th>说明</th>
                            <th>使用场景</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><span class="status-code status-200">200</span></td><td>成功</td><td>请求成功处理</td></tr>
                        <tr><td><span class="status-code status-201">201</span></td><td>创建成功</td><td>资源创建成功</td></tr>
                        <tr><td><span class="status-code status-400">400</span></td><td>请求错误</td><td>参数验证失败</td></tr>
                        <tr><td><span class="status-code status-401">401</span></td><td>未认证</td><td>令牌无效或过期</td></tr>
                        <tr><td><span class="status-code status-403">403</span></td><td>权限不足</td><td>没有访问权限</td></tr>
                        <tr><td><span class="status-code status-404">404</span></td><td>资源不存在</td><td>请求的资源不存在</td></tr>
                        <tr><td><span class="status-code status-500">500</span></td><td>服务器错误</td><td>内部服务器错误</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- 接口列表 -->
            <div class="section" id="apis">
                <h2><i class="fas fa-code"></i> 接口列表</h2>
                
                <!-- 认证接口 -->
                <h3><i class="fas fa-key"></i> 认证接口</h3>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/login</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-sign-in-alt"></i> 用户登录</h4>
                        <p>用户登录获取JWT令牌</p>
                        
                        <h4>请求参数</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>必填</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>username</td><td>string</td><td>是</td><td>用户名</td></tr>
                                <tr><td>password</td><td>string</td><td>是</td><td>密码</td></tr>
                            </tbody>
                        </table>

                        <h4>请求示例</h4>
                        <div class="code-block">
{
    "username": "admin",
    "password": "password123"
}
                        </div>

                        <button class="try-button" onclick="tryApi('POST', '/api/login', this)">尝试调用</button>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-url">/api/me</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-user"></i> 获取当前用户信息</h4>
                        <p>获取当前登录用户信息</p>
                        <p><strong>请求头:</strong> 需要JWT认证</p>
                        <button class="try-button" onclick="tryApi('GET', '/api/me', this)">尝试调用</button>
                    </div>
                </div>

                <!-- 用户管理 -->
                <h3><i class="fas fa-users"></i> 用户管理</h3>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-url">/api/admin</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-list"></i> 获取管理员列表</h4>
                        <p>获取管理员列表</p>
                        
                        <h4>请求参数</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>必填</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>page</td><td>integer</td><td>否</td><td>页码，默认1</td></tr>
                                <tr><td>limit</td><td>integer</td><td>否</td><td>每页数量，默认15</td></tr>
                                <tr><td>search</td><td>string</td><td>否</td><td>搜索关键词</td></tr>
                                <tr><td>status</td><td>integer</td><td>否</td><td>状态筛选 (1-正常, 0-禁用)</td></tr>
                            </tbody>
                        </table>
                        <button class="try-button" onclick="tryApi('GET', '/api/admin', this)">尝试调用</button>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/admin</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-plus"></i> 创建管理员</h4>
                        <p>创建新管理员</p>
                        <button class="try-button" onclick="tryApi('POST', '/api/admin', this)">尝试调用</button>
                    </div>
                </div>

                <!-- 角色管理 -->
                <h3><i class="fas fa-user-tag"></i> 角色管理</h3>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-url">/api/roles</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-list"></i> 获取角色列表</h4>
                        <p>获取角色列表</p>
                        <button class="try-button" onclick="tryApi('GET', '/api/roles', this)">尝试调用</button>
                    </div>
                </div>

                <!-- 权限管理 -->
                <h3><i class="fas fa-lock"></i> 权限管理</h3>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-url">/api/permissions</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-list"></i> 获取权限列表</h4>
                        <p>获取权限列表</p>
                        <button class="try-button" onclick="tryApi('GET', '/api/permissions', this)">尝试调用</button>
                    </div>
                </div>

                <!-- 操作日志 -->
                <h3><i class="fas fa-clipboard-list"></i> 操作日志</h3>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-url">/api/operation-logs</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-list"></i> 获取操作日志列表</h4>
                        <p>获取操作日志列表</p>
                        <button class="try-button" onclick="tryApi('GET', '/api/operation-logs', this)">尝试调用</button>
                    </div>
                </div>

                <!-- 性能监控 -->
                <h3><i class="fas fa-tachometer-alt"></i> 性能监控</h3>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-url">/api/performance/stats</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-chart-line"></i> 获取性能统计</h4>
                        <p>获取性能统计信息</p>
                        <button class="try-button" onclick="tryApi('GET', '/api/performance/stats', this)">尝试调用</button>
                    </div>
                </div>
            </div>

            <!-- 软删除管理 -->
            <div class="section" id="soft-delete">
                <h2><i class="fas fa-trash-alt"></i> 软删除管理</h2>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-url">/api/soft-delete/logs</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-list"></i> 获取已删除日志列表</h4>
                        <p>获取软删除状态的操作日志</p>
                        <button class="try-button" onclick="tryApi('GET', '/api/soft-delete/logs', this)">尝试调用</button>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/soft-delete/restore/log</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-undo"></i> 恢复日志</h4>
                        <p>将软删除日志恢复为正常</p>
                        <div class="code-block">{ "id": 1 }</div>
                        <button class="try-button" onclick="tryApi('POST', '/api/soft-delete/restore/log', this)">尝试调用</button>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/soft-delete/force-delete/log</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-trash"></i> 永久删除日志</h4>
                        <p>物理删除软删除日志</p>
                        <div class="code-block">{ "id": 1 }</div>
                        <button class="try-button" onclick="tryApi('POST', '/api/soft-delete/force-delete/log', this)">尝试调用</button>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/soft-delete/cleanup</span>
                    </div>
                    <div class="endpoint-content">
                        <h4><i class="fas fa-broom"></i> 清理软删除数据</h4>
                        <p>清理 N 天前的软删除数据（日志与性能数据）</p>
                        <div class="code-block">{ "days": 7 }</div>
                        <button class="try-button" onclick="tryApi('POST', '/api/soft-delete/cleanup', this)">尝试调用</button>
                    </div>
                </div>
            </div>

            <!-- 技术支持 -->
            <div class="section" id="support">
                <h2><i class="fas fa-life-ring"></i> 技术支持</h2>
                
                <div class="info-grid">
                    <div class="info-card">
                        <h4><i class="fas fa-envelope"></i> 联系方式</h4>
                        <p><strong>项目仓库:</strong> <a href="#">GitHub Repository</a></p>
                        <p><strong>技术文档:</strong> <a href="#">Documentation</a></p>
                        <p><strong>问题反馈:</strong> <a href="#">Issues</a></p>
                    </div>
                    <div class="info-card">
                        <h4><i class="fas fa-file-alt"></i> 文档信息</h4>
                        <p><strong>更新日志:</strong> <a href="#">CHANGELOG.md</a></p>
                        <p><strong>许可证:</strong> MIT License</p>
                        <p><strong>最后更新:</strong> 2024-01-01</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 页脚 -->
        <div class="footer">
            <p>&copy; 2024 Webman API 2.0. 本项目采用 MIT 许可证</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // API测试功能
        function tryApi(method, endpoint, button) {
            const baseUrl = 'http://127.0.0.1:8787';
            const fullUrl = baseUrl + endpoint;
            
            // 创建模态框显示API测试
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    padding: 30px;
                    border-radius: 12px;
                    max-width: 600px;
                    width: 90%;
                    max-height: 80%;
                    overflow-y: auto;
                ">
                    <h3 style="margin-bottom: 20px; color: #667eea;">
                        <i class="fas fa-code"></i> API测试
                    </h3>
                    <div style="margin-bottom: 15px;">
                        <strong>请求方法:</strong> <span class="method ${method.toLowerCase()}">${method}</span>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>请求地址:</strong> <code>${fullUrl}</code>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <strong>cURL命令:</strong>
                        <div style="background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 8px; margin-top: 10px; font-family: monospace; font-size: 0.9rem;">
curl -X ${method} "${fullUrl}" \\
${method === 'POST' || method === 'PUT' ? '  -H "Content-Type: application/json" \\\n  -d \'{"key": "value"}\'' : ''} \\
  -H "Authorization: Bearer YOUR_TOKEN"
                        </div>
                    </div>
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        background: #667eea;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 6px;
                        cursor: pointer;
                    ">关闭</button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // 点击背景关闭模态框
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // 高亮当前导航项
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav a');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (scrollY >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
